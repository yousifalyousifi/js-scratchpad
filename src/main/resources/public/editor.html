<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>JS Scratchpad</title>
        <link href="css/bootstrap.4.0.0.min.cyborg.css" rel="stylesheet">
        <link href="css/scratchpad.css" rel="stylesheet" media="screen">
    </head>
    <body>
      
        <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
            <a class="navbar-brand" href="#">JS Scratchpad</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li id="runButton" title="Ctrl+R" class="nav-item">
                        <a class="nav-link" href="#">Run</a>
                    </li>
                    <li id="clearButton" class="nav-item">
                        <a class="nav-link" href="#">Clear</a>
                    </li>
                    <li id="p5RefButton" class="nav-item">
                        <a class="nav-link" href="#">Reference</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="snippetsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Snippets
                        </a>
                        <div class="dropdown-menu" aria-labelledby="snippetsDropdown">
                            <a id="loadButton" class="dropdown-item" href="#" data-toggle="modal" data-target="#snippetsModal">Snippets</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="viewDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            View
                        </a>
                        <div class="dropdown-menu" id="viewDropdownMenu" aria-labelledby="viewDropdown">
                            <a id="font14px" class="dropdown-item" href="#">14px</a>
                            <a id="font18px" class="dropdown-item" href="#">18px</a>
                            <a id="font24px" class="dropdown-item" href="#">24px</a>
                            <div class="dropdown-divider"></div>
                            <div id="ratioButtons" class="btn-group btn-group-toggle" data-toggle="buttons">
                              <label class="btn btn-sm btn-secondary">
                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAAMUlEQVR42mM4fvz4/4HEDIPGAQx4ADFqSAWjDhh1wKgDRh0w6oBRB4w6YPA5YMS2iAA4TemfUvBlyAAAAABJRU5ErkJggg==" alt="20 80"/>
                                <input type="radio" name="options" id="option1" checked>
                              </label>
                              <label class="btn btn-sm btn-secondary active">
                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAAMElEQVR42mM4fvz4/4HEDIPGAQxkAKroHXXAqANGHTDqgFEHjDpg1AGDxgEjtkUEADu36Z/FDLVCAAAAAElFTkSuQmCC" alt="50 50"/>
                                <input type="radio" name="options" id="option2">
                              </label>
                              <label class="btn btn-sm btn-secondary">
                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAAANklEQVR42mM4fvz4/4HEDIPGAQxUBMSYOeqAUQeMOmDUAaMOGHXAqANo7oBjx46R5oAR2yICADum6ZzjSufRAAAAAElFTkSuQmCC" alt="80 20"/>
                                <input type="radio" name="options" id="option3"> 
                              </label>
                            </div>
                            <div class="dropdown-divider"></div>
                            <a id="wordWrap" class="dropdown-item" href="#">Enable Word Wrap</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="settingsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Settings
                        </a>
                        <div class="dropdown-menu" id="settingsCheckbox" aria-labelledby="settingsDropdown">
                          <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="autorunCheckbox">
                            <label class="form-check-label" for="autorunCheckbox">Autorun p5
                          </div>
                          <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="sendCheckbox">
                            <label class="form-check-label" for="sendCheckbox">Send sketch
                          </div>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="modeDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Mode
                        </a>
                        <div class="dropdown-menu" aria-labelledby="modeDropdown">
                            <a id="consoleMode" class="dropdown-item" href="#">Console</span></a>
                            <a id="drawMode" class="dropdown-item" href="#">Draw</a>
                        </div>
                    </li>


                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" style="display:none;" id="steppingDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Stepping
                        </a>
                        <div class="dropdown-menu" aria-labelledby="steppingDropdown">
                            <a id="b27" class="dropdown-item" href="#">Manual</a>
                            <a id="b28" class="dropdown-item" href="#">Auto</a>
                            <a id="b29" class="dropdown-item" href="#">Turn Off</a>
                            <a id="b26" class="dropdown-item" href="#">Toggle Step Code</a>
                        </div>
                    </li>

                    <li class="nav-item">
                            <button style="display:none;" id="stepBackward" type="button" class="manualStepControl btn btn-default">▲</button>
                            <button style="display:none;" id="stepForward" type="button" class="manualStepControl btn btn-default">▼</button>
                            <input style="display:none;" id="autoIntervalSlider" type="range" min="1" max="1000" value="300" class="slider autoStepControl">
                            <input style="display:none;" type="checkbox" id="reverseCheckbox" class="autoStepControl">
                            <label style="display:none;" for="reverseCheckbox" class="autoStepControl">Reverse</label>
                    </li>

                </ul>
                
                <ul class="navbar-nav ml-auto">
                    <li id="labelArea" class="nav-item">
                        <span><span id="userLabel"></span><br/><span id="statusMessageLabel"></span></span>
                    </li>
                    <li id="" class="nav-item">
                        <div></div>
                    </li>
                    <li class="userControl nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="fileDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            File
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="fileDropdown">
                          <a class="dropdown-item" href="#" id="saveUserSnippets">Save</a>
                          <a class="dropdown-item" href="#" id="saveAsUserSnippets">Save As</a>
                          <a class="dropdown-item" href="#" id="viewUserSnippets">My Snippets</a>
                          <a class="dropdown-item" href="#" id="newUserSnippet">New</a>
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="accountDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            User
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="accountDropdown">
                            <a id="logOut" class="userControl dropdown-item" href="#">Log Out</span></a>
                            <a id="logIn" class="guestControl dropdown-item" href="#" data-toggle="modal" data-target="#loginModal">Log In</span></a>
                            <a id="register" class="guestControl dropdown-item" href="#" data-toggle="modal" data-target="#registerModal">Register</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

<pre style="display: none;" id="defaultCode">
</pre>
        <div id="editorContainer">
            <pre id="editor"></pre>
            <!--<pre style="height:50%" id="consoleContainer"></pre>-->
        </div>
        <div id="displayContainer">
        </div>
        <script src="js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="js/ace/ext-language_tools.js"></script>
        <script src="js/jquery/jquery3.2.1.js"></script>
        <script src="js/jquery/jquery.ba-throttle-debounce.min.js"></script>
        <script src="js/jquery/jquery.cookie.js"></script>
        <script src="js/bootstrap/bootstrap.4.0.0.min.js"></script>
        
        <script src="js/acorn/acorn.js"></script>
        <script src="js/acorn/acorn_loose.js"></script>
        <script src="js/acorn/walk.js"></script>
        <script src="js/acorn/walkall.js"></script>

        <script src="js/p5/p5.js"></script>
        <script src="js/p5/addons/p5.sound.js"></script>
        <script src="js/p5/addons/p5.dom.js"></script>
        <script src="js/p5/addons/p5.func.js"></script>
        <script src="js/RateLimit.js"></script>
        <script src="js/CodeRunner.js"></script>
        <script src="js/DrawRunner.js"></script>
        <script src="js/Scratchpad.js"></script>
        <script src="js/DrawStepper.js"></script>
        <script src="js/UserActions.js"></script>
        <script src="js/Init.js"></script>
        <script>
        </script>
        <div class="modal fade" id="snippetsModal" role="dialog" aria-labelledby="snippetsModalTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title" id="snippetsModalTitle">Snippets</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <span id="snippetLoading"></span>
                    </div>
                    <div class="modal-body">
                        <div style="max-height: 300px; overflow: auto;">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                <th>Snippet Number</th>
                                <th>Snippet Title</th>
                                </tr>
                                </thead>
                                <tbody id="snippetsTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <span id="loadingGif" style="display:none;margin-right:20px;"><img src="loading.gif"/></span>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="loginModal" role="dialog" aria-labelledby="loginModalTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title" id="loginModalTitle">Login</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                          <div class="form-group">
                            <label for="usernameLoginInput" class="col-form-label">Username:</label>
                            <input type="text" class="form-control" id="usernameLoginInput">
                          </div>
                          <div class="form-group">
                            <label for="passwordLoginInput" class="col-form-label">Password:</label>
                            <input type="password" class="form-control" id="passwordLoginInput">
                          </div>
                        <button class="submitModal btn btn-primary mr-auto">Submit</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <span class="modalStatus"></span>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="registerModal" role="dialog" aria-labelledby="registerModalTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title" id="registerModalTitle">Register</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                          <div class="form-group">
                            <label for="usernameRegisterInput" class="col-form-label">Username:</label>
                            <input type="text" class="form-control" id="usernameRegisterInput">
                          </div>
                          <div class="form-group">
                            <label for="passwordRegisterInput" class="col-form-label">Password:</label>
                            <input type="password" class="form-control" id="passwordRegisterInput">
                          </div>
                          <div class="form-group">
                            <label for="passwordRetypeRegisterInput" class="col-form-label">Re-type Password:</label>
                            <input type="password" class="form-control" id="passwordRetypeRegisterInput">
                          </div>
                          <button class="submitModal btn btn-primary mr-auto">Submit</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <span class="modalStatus"></span>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="loadModal" role="dialog" aria-labelledby="loadModalTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title" id="loadModalTitle">Load Snippet</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div style="max-height: 300px; overflow: auto;">
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                <th>Snippet Title</th>
                                <th>Last Modified</th>
                                <th></th>
                                </tr>
                                </thead>
                                <tbody id="loadTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="saveModal" role="dialog" aria-labelledby="saveModalTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header"> 
                        <h4 class="modal-title" id="saveModalTitle">Save Snippet As</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                          <div class="form-group">
                            <label for="snippetTitleInput" class="col-form-label">Snippet name:</label>
                            <input type="text" class="form-control" id="snippetTitleInput">
                          </div>
                          <button class="submitModal btn btn-primary mr-auto">Save</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <span class="saveModalStatus"></span>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
